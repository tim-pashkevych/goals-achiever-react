import{r as W,T as pt,a as Ve,j as u,S as Nt,t as Pt,d as zt,e as Wt,f as qt,g as $t,h as Ht,i as Kt,I as le,R as z,k as he,s as Ue,m as Gt,n as Jt,o as Yt,p as Qt,q as Xt,v as Zt,w as Ce,x as Le,y as er,z as tr,A as rr,B as sr,C as ir,D as ar,E as nr,F as lr,M as Me,G as or,H as ur,J as cr,K as dr,O as pe,P as fr,Q as hr,U as yr,V as gr,W as vr,X as xr,Y as pr,Z as mr,_ as br,$ as _r,a0 as Sr,a1 as jr,a2 as wr,a3 as Vr,a4 as Fr,a5 as kr,a6 as Ar,a7 as rt,a8 as st,a9 as it,aa as at,ab as nt,ac as Dr,ad as Er,ae as Cr,af as Lr,ag as Tr,ah as Ir,ai as Rr,aj as Br,ak as Te,al as Or,am as Ur,an as lt,u as mt,ao as Mr,ap as Nr}from"./index-d3f8a077.js";import{u as Ne}from"./useModal-75ed4bc2.js";import{B as Pe}from"./Button-0a93f06e.js";import{b as Pr,I as zr}from"./Image-fb7b5be4.js";const Wr=["project","star","loading","puzzle-piece","container","lightning","colors","hexagon"],qr=({setIsOpenPopUp:e,boxRef:r})=>{const{setTheme:t}=W.useContext(pt),i=Ve();W.useEffect(()=>{const a=d=>{d.target.closest("button")!==r.current&&e(!1)};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[r,e]),W.useEffect(()=>{const a=d=>{d.code==="Escape"&&e(!1)};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[e]);const l=a=>{i(qt({theme:a})).unwrap().then(d=>{t(d)}),e(!1)};return u.jsx(Nt,{children:Pt.map(a=>u.jsx(zt,{children:u.jsxs(Wt,{onClick:()=>l(a),children:[" ",a]})},a))})},$r=()=>{const[e,r]=W.useState(!1),t=W.useRef(),i=l=>{l.target.closest("ul")||r(!e)};return u.jsxs($t,{children:[u.jsxs(Ht,{onClick:i,ref:t,children:[u.jsx(Kt,{children:"Theme"}),!e&&u.jsx(le,{id:"chevron-down",size:16}),e&&u.jsx(le,{id:"chevron-up",size:16})]}),e&&u.jsx(qr,{boxRef:t,setIsOpenPopUp:r})]})};var ye=e=>e.type==="checkbox",ne=e=>e instanceof Date,I=e=>e==null;const bt=e=>typeof e=="object";var E=e=>!I(e)&&!Array.isArray(e)&&bt(e)&&!ne(e),Hr=e=>E(e)&&e.target?ye(e.target)?e.target.checked:e.target.value:e,Kr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Gr=(e,r)=>e.has(Kr(r)),Jr=e=>{const r=e.constructor&&e.constructor.prototype;return E(r)&&r.hasOwnProperty("isPrototypeOf")},ze=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function P(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(ze&&(e instanceof Blob||e instanceof FileList))&&(t||E(e)))if(r=t?[]:{},!t&&!Jr(e))r=e;else for(const i in e)e.hasOwnProperty(i)&&(r[i]=P(e[i]));else return e;return r}var ge=e=>Array.isArray(e)?e.filter(Boolean):[],F=e=>e===void 0,y=(e,r,t)=>{if(!r||!E(e))return t;const i=ge(r.split(/[,[\].]+?/)).reduce((l,a)=>I(l)?l:l[a],e);return F(i)||i===e?F(e[r])?t:e[r]:i},Y=e=>typeof e=="boolean";const ot={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};z.createContext(null);var Yr=(e,r,t,i=!0)=>{const l={defaultValues:r._defaultValues};for(const a in e)Object.defineProperty(l,a,{get:()=>{const d=a;return r._proxyFormState[d]!==$.all&&(r._proxyFormState[d]=!i||$.all),t&&(t[d]=!0),e[d]}});return l},U=e=>E(e)&&!Object.keys(e).length,Qr=(e,r,t,i)=>{t(e);const{name:l,...a}=e;return U(a)||Object.keys(a).length>=Object.keys(r).length||Object.keys(a).find(d=>r[d]===(!i||$.all))},Ie=e=>Array.isArray(e)?e:[e];function Xr(e){const r=z.useRef(e);r.current=e,z.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var H=e=>typeof e=="string",Zr=(e,r,t,i,l)=>H(e)?(i&&r.watch.add(e),y(t,e,l)):Array.isArray(e)?e.map(a=>(i&&r.watch.add(a),y(t,a))):(i&&(r.watchAll=!0),t),We=e=>/^\w*$/.test(e),_t=e=>ge(e.replace(/["|']|\]/g,"").split(/\.|\[/)),V=(e,r,t)=>{let i=-1;const l=We(r)?[r]:_t(r),a=l.length,d=a-1;for(;++i<a;){const v=l[i];let w=t;if(i!==d){const b=e[v];w=E(b)||Array.isArray(b)?b:isNaN(+l[i+1])?{}:[]}e[v]=w,e=e[v]}return e},St=(e,r,t,i,l)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:l||!0}}:{},ut=e=>({isOnSubmit:!e||e===$.onSubmit,isOnBlur:e===$.onBlur,isOnChange:e===$.onChange,isOnAll:e===$.all,isOnTouch:e===$.onTouched}),ct=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const fe=(e,r,t,i)=>{for(const l of t||Object.keys(e)){const a=y(e,l);if(a){const{_f:d,...v}=a;if(d){if(d.refs&&d.refs[0]&&r(d.refs[0],l)&&!i)break;if(d.ref&&r(d.ref,d.name)&&!i)break;fe(v,r)}else E(v)&&fe(v,r)}}};var es=(e,r,t)=>{const i=ge(y(e,t));return V(i,"root",r[t]),V(e,t,i),e},qe=e=>e.type==="file",Z=e=>typeof e=="function",_e=e=>{if(!ze)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},be=e=>H(e),$e=e=>e.type==="radio",Se=e=>e instanceof RegExp;const dt={value:!1,isValid:!1},ft={value:!0,isValid:!0};var jt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!F(e[0].attributes.value)?F(e[0].value)||e[0].value===""?ft:{value:e[0].value,isValid:!0}:ft:dt}return dt};const ht={isValid:!1,value:null};var wt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ht):ht;function yt(e,r,t="validate"){if(be(e)||Array.isArray(e)&&e.every(be)||Y(e)&&!e)return{type:t,message:be(e)?e:"",ref:r}}var ae=e=>E(e)&&!Se(e)?e:{value:e,message:""},gt=async(e,r,t,i,l)=>{const{ref:a,refs:d,required:v,maxLength:w,minLength:b,min:p,max:g,pattern:B,validate:T,name:R,valueAsNumber:Fe,mount:Q,disabled:X}=e._f,_=y(r,R);if(!Q||X)return{};const K=d?d[0]:a,G=m=>{i&&K.reportValidity&&(K.setCustomValidity(Y(m)?"":m||""),K.reportValidity())},k={},re=$e(a),ve=ye(a),ee=re||ve,se=(Fe||qe(a))&&F(a.value)&&F(_)||_e(a)&&a.value===""||_===""||Array.isArray(_)&&!_.length,M=St.bind(null,R,t,k),xe=(m,S,A,L=J.maxLength,q=J.minLength)=>{const N=m?S:A;k[R]={type:m?L:q,message:N,ref:a,...M(m?L:q,N)}};if(l?!Array.isArray(_)||!_.length:v&&(!ee&&(se||I(_))||Y(_)&&!_||ve&&!jt(d).isValid||re&&!wt(d).isValid)){const{value:m,message:S}=be(v)?{value:!!v,message:v}:ae(v);if(m&&(k[R]={type:J.required,message:S,ref:K,...M(J.required,S)},!t))return G(S),k}if(!se&&(!I(p)||!I(g))){let m,S;const A=ae(g),L=ae(p);if(!I(_)&&!isNaN(_)){const q=a.valueAsNumber||_&&+_;I(A.value)||(m=q>A.value),I(L.value)||(S=q<L.value)}else{const q=a.valueAsDate||new Date(_),N=ce=>new Date(new Date().toDateString()+" "+ce),oe=a.type=="time",ue=a.type=="week";H(A.value)&&_&&(m=oe?N(_)>N(A.value):ue?_>A.value:q>new Date(A.value)),H(L.value)&&_&&(S=oe?N(_)<N(L.value):ue?_<L.value:q<new Date(L.value))}if((m||S)&&(xe(!!m,A.message,L.message,J.max,J.min),!t))return G(k[R].message),k}if((w||b)&&!se&&(H(_)||l&&Array.isArray(_))){const m=ae(w),S=ae(b),A=!I(m.value)&&_.length>+m.value,L=!I(S.value)&&_.length<+S.value;if((A||L)&&(xe(A,m.message,S.message),!t))return G(k[R].message),k}if(B&&!se&&H(_)){const{value:m,message:S}=ae(B);if(Se(m)&&!_.match(m)&&(k[R]={type:J.pattern,message:S,ref:a,...M(J.pattern,S)},!t))return G(S),k}if(T){if(Z(T)){const m=await T(_,r),S=yt(m,K);if(S&&(k[R]={...S,...M(J.validate,S.message)},!t))return G(S.message),k}else if(E(T)){let m={};for(const S in T){if(!U(m)&&!t)break;const A=yt(await T[S](_,r),K,S);A&&(m={...A,...M(S,A.message)},G(A.message),t&&(k[R]=m))}if(!U(m)&&(k[R]={ref:K,...m},!t))return k}}return G(!0),k};function ts(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=F(e)?i++:e[r[i++]];return e}function rs(e){for(const r in e)if(e.hasOwnProperty(r)&&!F(e[r]))return!1;return!0}function D(e,r){const t=Array.isArray(r)?r:We(r)?[r]:_t(r),i=t.length===1?e:ts(e,t),l=t.length-1,a=t[l];return i&&delete i[a],l!==0&&(E(i)&&U(i)||Array.isArray(i)&&rs(i))&&D(e,t.slice(0,-1)),e}var Re=()=>{let e=[];return{get observers(){return e},next:l=>{for(const a of e)a.next&&a.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(a=>a!==l)}}),unsubscribe:()=>{e=[]}}},je=e=>I(e)||!bt(e);function te(e,r){if(je(e)||je(r))return e===r;if(ne(e)&&ne(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const l of t){const a=e[l];if(!i.includes(l))return!1;if(l!=="ref"){const d=r[l];if(ne(a)&&ne(d)||E(a)&&E(d)||Array.isArray(a)&&Array.isArray(d)?!te(a,d):a!==d)return!1}}return!0}var Vt=e=>e.type==="select-multiple",ss=e=>$e(e)||ye(e),Be=e=>_e(e)&&e.isConnected,Ft=e=>{for(const r in e)if(Z(e[r]))return!0;return!1};function we(e,r={}){const t=Array.isArray(e);if(E(e)||t)for(const i in e)Array.isArray(e[i])||E(e[i])&&!Ft(e[i])?(r[i]=Array.isArray(e[i])?[]:{},we(e[i],r[i])):I(e[i])||(r[i]=!0);return r}function kt(e,r,t){const i=Array.isArray(e);if(E(e)||i)for(const l in e)Array.isArray(e[l])||E(e[l])&&!Ft(e[l])?F(r)||je(t[l])?t[l]=Array.isArray(e[l])?we(e[l],[]):{...we(e[l])}:kt(e[l],I(r)?{}:r[l],t[l]):t[l]=!te(e[l],r[l]);return t}var me=(e,r)=>kt(e,r,we(r)),At=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>F(e)?e:r?e===""?NaN:e&&+e:t&&H(e)?new Date(e):i?i(e):e;function Oe(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return qe(r)?r.files:$e(r)?wt(e.refs).value:Vt(r)?[...r.selectedOptions].map(({value:t})=>t):ye(r)?jt(e.refs).value:At(F(r.value)?e.ref.value:r.value,e)}var is=(e,r,t,i)=>{const l={};for(const a of e){const d=y(r,a);d&&V(l,a,d._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:i}},de=e=>F(e)?e:Se(e)?e.source:E(e)?Se(e.value)?e.value.source:e.value:e,as=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function vt(e,r,t){const i=y(e,t);if(i||We(t))return{error:i,name:t};const l=t.split(".");for(;l.length;){const a=l.join("."),d=y(r,a),v=y(e,a);if(d&&!Array.isArray(d)&&t!==a)return{name:t};if(v&&v.type)return{name:a,error:v};l.pop()}return{name:t}}var ns=(e,r,t,i,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(r||e):(t?i.isOnBlur:l.isOnBlur)?!e:(t?i.isOnChange:l.isOnChange)?e:!0,ls=(e,r)=>!ge(y(e,r)).length&&D(e,r);const os={mode:$.onSubmit,reValidateMode:$.onChange,shouldFocusError:!0};function us(e={}){let r={...os,...e},t={submitCount:0,isDirty:!1,isLoading:Z(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},l=E(r.defaultValues)||E(r.values)?P(r.defaultValues||r.values)||{}:{},a=r.shouldUnregister?{}:P(l),d={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w,b=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:Re(),array:Re(),state:Re()},B=ut(r.mode),T=ut(r.reValidateMode),R=r.criteriaMode===$.all,Fe=s=>n=>{clearTimeout(b),b=setTimeout(s,n)},Q=async s=>{if(p.isValid||s){const n=r.resolver?U((await ee()).errors):await M(i,!0);n!==t.isValid&&g.state.next({isValid:n})}},X=(s,n)=>{(p.isValidating||p.validatingFields)&&((s||Array.from(v.mount)).forEach(o=>{o&&(n?V(t.validatingFields,o,n):D(t.validatingFields,o))}),g.state.next({validatingFields:t.validatingFields,isValidating:!U(t.validatingFields)}))},_=(s,n=[],o,h,f=!0,c=!0)=>{if(h&&o){if(d.action=!0,c&&Array.isArray(y(i,s))){const x=o(y(i,s),h.argA,h.argB);f&&V(i,s,x)}if(c&&Array.isArray(y(t.errors,s))){const x=o(y(t.errors,s),h.argA,h.argB);f&&V(t.errors,s,x),ls(t.errors,s)}if(p.touchedFields&&c&&Array.isArray(y(t.touchedFields,s))){const x=o(y(t.touchedFields,s),h.argA,h.argB);f&&V(t.touchedFields,s,x)}p.dirtyFields&&(t.dirtyFields=me(l,a)),g.state.next({name:s,isDirty:m(s,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else V(a,s,n)},K=(s,n)=>{V(t.errors,s,n),g.state.next({errors:t.errors})},G=s=>{t.errors=s,g.state.next({errors:t.errors,isValid:!1})},k=(s,n,o,h)=>{const f=y(i,s);if(f){const c=y(a,s,F(o)?y(l,s):o);F(c)||h&&h.defaultChecked||n?V(a,s,n?c:Oe(f._f)):L(s,c),d.mount&&Q()}},re=(s,n,o,h,f)=>{let c=!1,x=!1;const j={name:s},C=!!(y(i,s)&&y(i,s)._f.disabled);if(!o||h){p.isDirty&&(x=t.isDirty,t.isDirty=j.isDirty=m(),c=x!==j.isDirty);const O=C||te(y(l,s),n);x=!!(!C&&y(t.dirtyFields,s)),O||C?D(t.dirtyFields,s):V(t.dirtyFields,s,!0),j.dirtyFields=t.dirtyFields,c=c||p.dirtyFields&&x!==!O}if(o){const O=y(t.touchedFields,s);O||(V(t.touchedFields,s,o),j.touchedFields=t.touchedFields,c=c||p.touchedFields&&O!==o)}return c&&f&&g.state.next(j),c?j:{}},ve=(s,n,o,h)=>{const f=y(t.errors,s),c=p.isValid&&Y(n)&&t.isValid!==n;if(e.delayError&&o?(w=Fe(()=>K(s,o)),w(e.delayError)):(clearTimeout(b),w=null,o?V(t.errors,s,o):D(t.errors,s)),(o?!te(f,o):f)||!U(h)||c){const x={...h,...c&&Y(n)?{isValid:n}:{},errors:t.errors,name:s};t={...t,...x},g.state.next(x)}},ee=async s=>{X(s,!0);const n=await r.resolver(a,r.context,is(s||v.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return X(s),n},se=async s=>{const{errors:n}=await ee(s);if(s)for(const o of s){const h=y(n,o);h?V(t.errors,o,h):D(t.errors,o)}else t.errors=n;return n},M=async(s,n,o={valid:!0})=>{for(const h in s){const f=s[h];if(f){const{_f:c,...x}=f;if(c){const j=v.array.has(c.name);X([h],!0);const C=await gt(f,a,R,r.shouldUseNativeValidation&&!n,j);if(X([h]),C[c.name]&&(o.valid=!1,n))break;!n&&(y(C,c.name)?j?es(t.errors,C,c.name):V(t.errors,c.name,C[c.name]):D(t.errors,c.name))}x&&await M(x,n,o)}}return o.valid},xe=()=>{for(const s of v.unMount){const n=y(i,s);n&&(n._f.refs?n._f.refs.every(o=>!Be(o)):!Be(n._f.ref))&&ke(s)}v.unMount=new Set},m=(s,n)=>(s&&n&&V(a,s,n),!te(He(),l)),S=(s,n,o)=>Zr(s,v,{...d.mount?a:F(n)?l:H(s)?{[s]:n}:n},o,n),A=s=>ge(y(d.mount?a:l,s,e.shouldUnregister?y(l,s,[]):[])),L=(s,n,o={})=>{const h=y(i,s);let f=n;if(h){const c=h._f;c&&(!c.disabled&&V(a,s,At(n,c)),f=_e(c.ref)&&I(n)?"":n,Vt(c.ref)?[...c.ref.options].forEach(x=>x.selected=f.includes(x.value)):c.refs?ye(c.ref)?c.refs.length>1?c.refs.forEach(x=>(!x.defaultChecked||!x.disabled)&&(x.checked=Array.isArray(f)?!!f.find(j=>j===x.value):f===x.value)):c.refs[0]&&(c.refs[0].checked=!!f):c.refs.forEach(x=>x.checked=x.value===f):qe(c.ref)?c.ref.value="":(c.ref.value=f,c.ref.type||g.values.next({name:s,values:{...a}})))}(o.shouldDirty||o.shouldTouch)&&re(s,f,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&ce(s)},q=(s,n,o)=>{for(const h in n){const f=n[h],c=`${s}.${h}`,x=y(i,c);(v.array.has(s)||!je(f)||x&&!x._f)&&!ne(f)?q(c,f,o):L(c,f,o)}},N=(s,n,o={})=>{const h=y(i,s),f=v.array.has(s),c=P(n);V(a,s,c),f?(g.array.next({name:s,values:{...a}}),(p.isDirty||p.dirtyFields)&&o.shouldDirty&&g.state.next({name:s,dirtyFields:me(l,a),isDirty:m(s,c)})):h&&!h._f&&!I(c)?q(s,c,o):L(s,c,o),ct(s,v)&&g.state.next({...t}),g.values.next({name:d.mount?s:void 0,values:{...a}})},oe=async s=>{d.mount=!0;const n=s.target;let o=n.name,h=!0;const f=y(i,o),c=()=>n.type?Oe(f._f):Hr(s),x=j=>{h=Number.isNaN(j)||j===y(a,o,j)};if(f){let j,C;const O=c(),ie=s.type===ot.BLUR||s.type===ot.FOCUS_OUT,Ot=!as(f._f)&&!r.resolver&&!y(t.errors,o)&&!f._f.deps||ns(ie,y(t.touchedFields,o),t.isSubmitted,T,B),De=ct(o,v,ie);V(a,o,O),ie?(f._f.onBlur&&f._f.onBlur(s),w&&w(0)):f._f.onChange&&f._f.onChange(s);const Ee=re(o,O,ie,!1),Ut=!U(Ee)||De;if(!ie&&g.values.next({name:o,type:s.type,values:{...a}}),Ot)return p.isValid&&Q(),Ut&&g.state.next({name:o,...De?{}:Ee});if(!ie&&De&&g.state.next({...t}),r.resolver){const{errors:et}=await ee([o]);if(x(O),h){const Mt=vt(t.errors,i,o),tt=vt(et,i,Mt.name||o);j=tt.error,o=tt.name,C=U(et)}}else X([o],!0),j=(await gt(f,a,R,r.shouldUseNativeValidation))[o],X([o]),x(O),h&&(j?C=!1:p.isValid&&(C=await M(i,!0)));h&&(f._f.deps&&ce(f._f.deps),ve(o,C,j,Ee))}},ue=(s,n)=>{if(y(t.errors,n)&&s.focus)return s.focus(),1},ce=async(s,n={})=>{let o,h;const f=Ie(s);if(r.resolver){const c=await se(F(s)?s:f);o=U(c),h=s?!f.some(x=>y(c,x)):o}else s?(h=(await Promise.all(f.map(async c=>{const x=y(i,c);return await M(x&&x._f?{[c]:x}:x)}))).every(Boolean),!(!h&&!t.isValid)&&Q()):h=o=await M(i);return g.state.next({...!H(s)||p.isValid&&o!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:o}:{},errors:t.errors}),n.shouldFocus&&!h&&fe(i,ue,s?f:v.mount),h},He=s=>{const n={...l,...d.mount?a:{}};return F(s)?n:H(s)?y(n,s):s.map(o=>y(n,o))},Ke=(s,n)=>({invalid:!!y((n||t).errors,s),isDirty:!!y((n||t).dirtyFields,s),isTouched:!!y((n||t).touchedFields,s),isValidating:!!y((n||t).validatingFields,s),error:y((n||t).errors,s)}),Tt=s=>{s&&Ie(s).forEach(n=>D(t.errors,n)),g.state.next({errors:s?t.errors:{}})},Ge=(s,n,o)=>{const h=(y(i,s,{_f:{}})._f||{}).ref;V(t.errors,s,{...n,ref:h}),g.state.next({name:s,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&h&&h.focus&&h.focus()},It=(s,n)=>Z(s)?g.values.subscribe({next:o=>s(S(void 0,n),o)}):S(s,n,!0),ke=(s,n={})=>{for(const o of s?Ie(s):v.mount)v.mount.delete(o),v.array.delete(o),n.keepValue||(D(i,o),D(a,o)),!n.keepError&&D(t.errors,o),!n.keepDirty&&D(t.dirtyFields,o),!n.keepTouched&&D(t.touchedFields,o),!n.keepIsValidating&&D(t.validatingFields,o),!r.shouldUnregister&&!n.keepDefaultValue&&D(l,o);g.values.next({values:{...a}}),g.state.next({...t,...n.keepDirty?{isDirty:m()}:{}}),!n.keepIsValid&&Q()},Je=({disabled:s,name:n,field:o,fields:h,value:f})=>{if(Y(s)){const c=s?void 0:F(f)?Oe(o?o._f:y(h,n)._f):f;V(a,n,c),re(n,c,!1,!1,!0)}},Ae=(s,n={})=>{let o=y(i,s);const h=Y(n.disabled);return V(i,s,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:s}},name:s,mount:!0,...n}}),v.mount.add(s),o?Je({field:o,disabled:n.disabled,name:s,value:n.value}):k(s,!0,n.value),{...h?{disabled:n.disabled}:{},...r.progressive?{required:!!n.required,min:de(n.min),max:de(n.max),minLength:de(n.minLength),maxLength:de(n.maxLength),pattern:de(n.pattern)}:{},name:s,onChange:oe,onBlur:oe,ref:f=>{if(f){Ae(s,n),o=y(i,s);const c=F(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,x=ss(c),j=o._f.refs||[];if(x?j.find(C=>C===c):c===o._f.ref)return;V(i,s,{_f:{...o._f,...x?{refs:[...j.filter(Be),c,...Array.isArray(y(l,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),k(s,!1,void 0,c)}else o=y(i,s,{}),o._f&&(o._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&!(Gr(v.array,s)&&d.action)&&v.unMount.add(s)}}},Ye=()=>r.shouldFocusError&&fe(i,ue,v.mount),Rt=s=>{Y(s)&&(g.state.next({disabled:s}),fe(i,(n,o)=>{let h=s;const f=y(i,o);f&&Y(f._f.disabled)&&(h||(h=f._f.disabled)),n.disabled=h},0,!1))},Qe=(s,n)=>async o=>{let h;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let f=P(a);if(g.state.next({isSubmitting:!0}),r.resolver){const{errors:c,values:x}=await ee();t.errors=c,f=x}else await M(i);if(D(t.errors,"root"),U(t.errors)){g.state.next({errors:{}});try{await s(f,o)}catch(c){h=c}}else n&&await n({...t.errors},o),Ye(),setTimeout(Ye);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},Bt=(s,n={})=>{y(i,s)&&(F(n.defaultValue)?N(s,P(y(l,s))):(N(s,n.defaultValue),V(l,s,P(n.defaultValue))),n.keepTouched||D(t.touchedFields,s),n.keepDirty||(D(t.dirtyFields,s),t.isDirty=n.defaultValue?m(s,P(y(l,s))):m()),n.keepError||(D(t.errors,s),p.isValid&&Q()),g.state.next({...t}))},Xe=(s,n={})=>{const o=s?P(s):l,h=P(o),f=U(s),c=f?l:h;if(n.keepDefaultValues||(l=o),!n.keepValues){if(n.keepDirtyValues)for(const x of v.mount)y(t.dirtyFields,x)?V(c,x,y(a,x)):N(x,y(c,x));else{if(ze&&F(s))for(const x of v.mount){const j=y(i,x);if(j&&j._f){const C=Array.isArray(j._f.refs)?j._f.refs[0]:j._f.ref;if(_e(C)){const O=C.closest("form");if(O){O.reset();break}}}}i={}}a=e.shouldUnregister?n.keepDefaultValues?P(l):{}:P(c),g.array.next({values:{...c}}),g.values.next({values:{...c}})}v={mount:n.keepDirtyValues?v.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!p.isValid||!!n.keepIsValid||!!n.keepDirtyValues,d.watch=!!e.shouldUnregister,g.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:f?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!te(s,l)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?[]:n.keepDirtyValues?n.keepDefaultValues&&a?me(l,a):t.dirtyFields:n.keepDefaultValues&&s?me(l,s):{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ze=(s,n)=>Xe(Z(s)?s(a):s,n);return{control:{register:Ae,unregister:ke,getFieldState:Ke,handleSubmit:Qe,setError:Ge,_executeSchema:ee,_getWatch:S,_getDirty:m,_updateValid:Q,_removeUnmounted:xe,_updateFieldArray:_,_updateDisabledField:Je,_getFieldArray:A,_reset:Xe,_resetDefaultValues:()=>Z(r.defaultValues)&&r.defaultValues().then(s=>{Ze(s,r.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:Rt,_subjects:g,_proxyFormState:p,_setErrors:G,get _fields(){return i},get _formValues(){return a},get _state(){return d},set _state(s){d=s},get _defaultValues(){return l},get _names(){return v},set _names(s){v=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:ce,register:Ae,handleSubmit:Qe,watch:It,setValue:N,getValues:He,reset:Ze,resetField:Bt,clearErrors:Tt,unregister:ke,setError:Ge,setFocus:(s,n={})=>{const o=y(i,s),h=o&&o._f;if(h){const f=h.refs?h.refs[0]:h.ref;f.focus&&(f.focus(),n.shouldSelect&&f.select())}},getFieldState:Ke}}function Dt(e={}){const r=z.useRef(),t=z.useRef(),[i,l]=z.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...us(e),formState:i});const a=r.current.control;return a._options=e,Xr({subject:a._subjects.state,next:d=>{Qr(d,a._proxyFormState,a._updateFormState,!0)&&l({...a._formState})}}),z.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),z.useEffect(()=>{if(a._proxyFormState.isDirty){const d=a._getDirty();d!==i.isDirty&&a._subjects.state.next({isDirty:d})}},[a,i.isDirty]),z.useEffect(()=>{e.values&&!te(e.values,t.current)?(a._reset(e.values,a._options.resetOptions),t.current=e.values,l(d=>({...d}))):a._resetDefaultValues()},[e.values,a]),z.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),z.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),z.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),r.current.formState=Yr(i,a),r.current}const cs=e=>new Promise(r=>{Xt.imageFileResizer(e,150,150,"JPEG",100,0,t=>{r(t)},"file")}),ds=({setAvatar:e})=>{const{avatarURL:r}=he(Ue),[t,i]=W.useState(r),l=W.useRef(null),a=()=>{l.current.click()},d=async v=>{const w=new FileReader,b=v.target.files[0];if(e(b),!b)return;const p=await cs(b);w.onload=g=>{const B=g.target.result;i(B)},w.readAsDataURL(p)};return u.jsxs(Gt,{children:[u.jsxs(Jt,{children:[t&&u.jsx("img",{src:t,alt:"avatar"}),!t&&u.jsx(le,{id:"user",size:48})]}),u.jsxs(Yt,{children:[u.jsx(Pe,{size:"editProfile",type:"button",onClick:a}),u.jsx(Qt,{onChange:d,ref:l,type:"file",accept:"image/jpeg,image/png"})]})]})},fs=({register:e,current:r})=>{const[t,i]=W.useState(!1),l=()=>{i(!t)};return u.jsxs(Zt,{children:[u.jsx(Ce,{children:u.jsx(Le,{...e("name"),placeholder:r.name})}),u.jsx(Ce,{children:u.jsx(Le,{...e("email"),placeholder:r.email})}),u.jsxs(Ce,{children:[u.jsx(Le,{...e("password"),placeholder:"password",type:t?"text":"password"}),u.jsx(er,{onClick:l,type:"button",className:t?"active":"",children:u.jsx(le,{id:"eye",size:18})})]})]})};var xt=function(e,r,t){if(e&&"reportValidity"in e){var i=y(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Et=function(e,r){var t=function(l){var a=r.fields[l];a&&a.ref&&"reportValidity"in a.ref?xt(a.ref,l,e):a.refs&&a.refs.forEach(function(d){return xt(d,l,e)})};for(var i in r.fields)t(i)},hs=function(e,r){r.shouldUseNativeValidation&&Et(e,r);var t={};for(var i in e){var l=y(r.fields,i),a=Object.assign(e[i]||{},{ref:l&&l.ref});if(ys(r.names||Object.keys(e),i)){var d=Object.assign({},y(t,i));V(d,"root",a),V(t,i,d)}else V(t,i,a)}return t},ys=function(e,r){return e.some(function(t){return t.startsWith(r+".")})};function Ct(e,r,t){return r===void 0&&(r={}),t===void 0&&(t={}),function(i,l,a){try{return Promise.resolve(function(d,v){try{var w=(r.context,Promise.resolve(e[t.mode==="sync"?"validateSync":"validate"](i,Object.assign({abortEarly:!1},r,{context:l}))).then(function(b){return a.shouldUseNativeValidation&&Et({},a),{values:t.raw?i:b,errors:{}}}))}catch(b){return v(b)}return w&&w.then?w.then(void 0,v):w}(0,function(d){if(!d.inner)throw d;return{values:{},errors:hs((v=d,w=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(v.inner||[]).reduce(function(b,p){if(b[p.path]||(b[p.path]={message:p.message,type:p.type}),w){var g=b[p.path].types,B=g&&g[p.type];b[p.path]=St(p.path,w,b,p.type,B?[].concat(B,p.message):p.message)}return b},{})),a)};var v,w}))}catch(d){return Promise.reject(d)}}}const gs=({handleCloseModal:e})=>{const[r,t]=W.useState(null),i=he(Ue),l=Ve(),{register:a,handleSubmit:d,formState:{errors:v}}=Dt({mode:"onChange",resolver:Ct(tr)}),w=b=>{const{name:p,email:g,password:B}=b;if(!p&&!g&&!B&&!r)return;const T=new FormData;i.name!==p&&p&&T.append("name",p),i.email!==g&&g&&T.append("email",g),B&&T.append("password",B),r&&T.append("avatar",r);for(const R of T.keys());l(ir(T)).unwrap().then(()=>{e()})};return u.jsxs(rr,{onSubmit:d(w),children:[u.jsx(sr,{children:"Edit profile"}),u.jsx(ds,{setAvatar:t}),u.jsx(fs,{register:a,errors:v,current:i}),u.jsx(Pe,{title:"Send",icon:!1})]})},vs=()=>{const{name:e,avatarURL:r}=he(Ue),[t,i]=Ne(),l=W.useRef(),a=v=>{v.target.closest("button")===l.current&&i()},d=()=>{i(!1)};return u.jsxs(ar,{onClick:a,ref:l,children:[u.jsx(nr,{children:e}),u.jsxs(lr,{children:[u.jsx("img",{src:r,alt:"avatar"}),!1]}),t&&u.jsx(Me,{toggleModal:d,children:u.jsx(gs,{handleCloseModal:d})})]})},xs=()=>u.jsxs(or,{children:[u.jsx(ur,{children:u.jsx(le,{id:"menu"})}),u.jsx($r,{}),u.jsx(vs,{})]}),ps=()=>{const[e,r]=Ne(),t=Ve(),i=()=>{t(jr())};return u.jsxs(u.Fragment,{children:[u.jsxs(cr,{children:[u.jsxs(dr,{to:"/",children:[u.jsx(pe,{id:"logo",size:32,className:"logo"}),u.jsx(fr,{children:"Task Pro"})]}),u.jsx(hr,{children:"My boards"}),u.jsxs(yr,{children:[u.jsx(gr,{children:"Create a new board"}),u.jsx(vr,{type:"button",onClick:r,children:u.jsx(pe,{id:"plus",size:20,className:"plus"})})]}),u.jsx(xr,{children:u.jsx(ms,{})}),u.jsxs(pr,{children:[u.jsxs(mr,{children:["If you need help with ",u.jsx("span",{children:"TaskPro"}),", check out our support resources or reach out to our customer support team."]}),u.jsxs(br,{children:[u.jsx(pe,{id:"help-circle",size:20,className:"help-circle"}),"Need help?"]})]}),u.jsx(_r,{children:u.jsxs(Sr,{type:"button",onClick:i,children:[u.jsx(pe,{id:"login",size:32,className:"login"}),"Log out"]})})]}),e&&u.jsx(Me,{toggleModal:r,children:u.jsx(Lt,{handleCloseModal:r})})]})},Lt=({boardId:e,handleCloseModal:r})=>{const{theme:t}=W.useContext(pt),i=Ve(),l=he(g=>wr(g,e)),{register:a,handleSubmit:d,formState:{errors:v}}=Dt({resolver:Ct(Er),defaultValues:{title:l==null?void 0:l.title,icon:l==null?void 0:l.icon,backgroundImage:l==null?void 0:l.backgroundImage},mode:"onChange"}),w=Pr.filter(g=>g.themes.includes(t)),b={width:28,height:28},p=g=>{e?i(Cr({newBoardBody:g,id:e})).unwrap().then(()=>{r()}):i(Lr(g)).unwrap().then(()=>{r()})};return u.jsx(Vr,{children:u.jsxs(Fr,{onSubmit:d(p),children:[u.jsx(kr,{children:l?"Edit board":"New board"}),u.jsx(Ar,{type:"text",autoFocus:!0,...a("title")}),u.jsxs(rt,{children:[u.jsx(st,{children:"Icons"}),u.jsx(it,{$gap:"3px",children:Wr.map(g=>u.jsxs(at,{children:[u.jsx(nt,{type:"radio",...a("icon"),value:g}),u.jsx(le,{id:g,size:24,stroke:"rgba(255, 255, 255, 0.5)",fill:"rgba(0, 0, 0, 0)"})]},g))})]}),u.jsxs(rt,{children:[u.jsx(st,{children:"Background"}),u.jsx(it,{$width:"252px",$gap:"4px",children:w.map(g=>u.jsxs(at,{children:[u.jsx(nt,{type:"radio",...a("backgroundImage"),value:g.key}),u.jsx(zr,{desktop:b,tablet:b,mobile:b,type:"image/png",pathKey:g.key,alt:g.alt,imageCategory:"boardIcons"})]},g.key))})]}),u.jsx(Dr,{children:u.jsx(Pe,{title:l?"Edit":"Create",icon:!0,size:"large",style:{width:3340}})})]})})},ms=()=>{const e=he(Tr);return u.jsx(Ir,{children:e.map(r=>u.jsx(bs,{title:r.title,id:r._id},r._id))})},bs=({id:e,title:r})=>{const[t,i]=Ne();return u.jsxs(u.Fragment,{children:[u.jsxs(Rr,{children:[u.jsxs(Br,{children:[u.jsx(Te,{id:"project",size:20,className:"project"}),u.jsx(Or,{children:r})]}),u.jsxs(Ur,{children:[u.jsx(lt,{type:"button",onClick:i,"aria-label":"edit",children:u.jsx(Te,{id:"pencil",size:16,className:"pencil"})}),u.jsx(lt,{type:"button","aria-label":"delete",children:u.jsx(Te,{id:"trash",size:16,className:"trash"})})]})]}),t&&u.jsx(Me,{toggleModal:i,children:u.jsx(Lt,{boardId:e,handleCloseModal:i})})]})},_s=mt.div`
  display: flex;
  flex-direction: row;
`,Ss=mt.div`
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
`,Es=()=>u.jsxs(_s,{children:[u.jsx("div",{children:u.jsx(ps,{})}),u.jsxs(Ss,{children:[u.jsx(xs,{}),u.jsx(W.Suspense,{fallback:u.jsx(Mr,{}),children:u.jsx(Nr,{})})]})]});export{Es as default};

import{r as H,T as Lt,a as Me,j as u,S as Tt,t as Ot,d as Rt,e as Ut,f as Mt,g as Nt,h as It,i as Bt,I as fe,R as W,k as je,s as Ne,m as Pt,n as Wt,o as zt,p as qt,q as Ht,v as $t,w as Ee,x as Ce,y as Kt,z as Gt,A as Jt,B as Yt,C as Qt,D as Xt,E as Zt,F as er,M as Ie,G as tr,H as rr,J as sr,K as ir,O as xe,P as nr,Q as ar,U as lr,V as or,W as ur,X as cr,Y as dr,Z as fr,_ as hr,$ as yr,a0 as vr,a1 as gr,a2 as xr,a3 as pr,a4 as br,a5 as mr,a6 as _r,a7 as Le,a8 as Sr,a9 as Vr,aa as tt,u as ft,ab as jr,ac as Fr}from"./index-df8e4d26.js";import{u as Be}from"./useModal-94574738.js";import{B as ht}from"./Button-ff8f5170.js";const wr=({setIsOpenPopUp:e,boxRef:r})=>{const{setTheme:t}=H.useContext(Lt),i=Me();H.useEffect(()=>{const n=d=>{d.target.closest("button")!==r.current&&e(!1)};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n)}},[r,e]),H.useEffect(()=>{const n=d=>{d.code==="Escape"&&e(!1)};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[e]);const o=n=>{i(Mt({theme:n})).unwrap().then(d=>{t(d)}),e(!1)};return u.jsx(Tt,{children:Ot.map(n=>u.jsx(Rt,{children:u.jsxs(Ut,{onClick:()=>o(n),children:[" ",n]})},n))})},Ar=()=>{const[e,r]=H.useState(!1),t=H.useRef(),i=o=>{o.target.closest("ul")||r(!e)};return u.jsxs(Nt,{children:[u.jsxs(It,{onClick:i,ref:t,children:[u.jsx(Bt,{children:"Theme"}),!e&&u.jsx(fe,{id:"chevron-down",size:16}),e&&u.jsx(fe,{id:"chevron-up",size:16})]}),e&&u.jsx(wr,{boxRef:t,setIsOpenPopUp:r})]})};var he=e=>e.type==="checkbox",ae=e=>e instanceof Date,R=e=>e==null;const yt=e=>typeof e=="object";var E=e=>!R(e)&&!Array.isArray(e)&&yt(e)&&!ae(e),kr=e=>E(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Dr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Er=(e,r)=>e.has(Dr(r)),Cr=e=>{const r=e.constructor&&e.constructor.prototype;return E(r)&&r.hasOwnProperty("isPrototypeOf")},Pe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function P(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Pe&&(e instanceof Blob||e instanceof FileList))&&(t||E(e)))if(r=t?[]:{},!t&&!Cr(e))r=e;else for(const i in e)e.hasOwnProperty(i)&&(r[i]=P(e[i]));else return e;return r}var ye=e=>Array.isArray(e)?e.filter(Boolean):[],w=e=>e===void 0,y=(e,r,t)=>{if(!r||!E(e))return t;const i=ye(r.split(/[,[\].]+?/)).reduce((o,n)=>R(o)?o:o[n],e);return w(i)||i===e?w(e[r])?t:e[r]:i},Y=e=>typeof e=="boolean";const rt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};W.createContext(null);var Lr=(e,r,t,i=!0)=>{const o={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const d=n;return r._proxyFormState[d]!==q.all&&(r._proxyFormState[d]=!i||q.all),t&&(t[d]=!0),e[d]}});return o},N=e=>E(e)&&!Object.keys(e).length,Tr=(e,r,t,i)=>{t(e);const{name:o,...n}=e;return N(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(d=>r[d]===(!i||q.all))},Te=e=>Array.isArray(e)?e:[e];function Or(e){const r=W.useRef(e);r.current=e,W.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var $=e=>typeof e=="string",Rr=(e,r,t,i,o)=>$(e)?(i&&r.watch.add(e),y(t,e,o)):Array.isArray(e)?e.map(n=>(i&&r.watch.add(n),y(t,n))):(i&&(r.watchAll=!0),t),We=e=>/^\w*$/.test(e),vt=e=>ye(e.replace(/["|']|\]/g,"").split(/\.|\[/)),V=(e,r,t)=>{let i=-1;const o=We(r)?[r]:vt(r),n=o.length,d=n-1;for(;++i<n;){const v=o[i];let F=t;if(i!==d){const j=e[v];F=E(j)||Array.isArray(j)?j:isNaN(+o[i+1])?{}:[]}e[v]=F,e=e[v]}return e},gt=(e,r,t,i,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:o||!0}}:{},st=e=>({isOnSubmit:!e||e===q.onSubmit,isOnBlur:e===q.onBlur,isOnChange:e===q.onChange,isOnAll:e===q.all,isOnTouch:e===q.onTouched}),it=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const de=(e,r,t,i)=>{for(const o of t||Object.keys(e)){const n=y(e,o);if(n){const{_f:d,...v}=n;if(d){if(d.refs&&d.refs[0]&&r(d.refs[0],o)&&!i)break;if(d.ref&&r(d.ref,d.name)&&!i)break;de(v,r)}else E(v)&&de(v,r)}}};var Ur=(e,r,t)=>{const i=ye(y(e,t));return V(i,"root",r[t]),V(e,t,i),e},ze=e=>e.type==="file",Z=e=>typeof e=="function",me=e=>{if(!Pe)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},be=e=>$(e),qe=e=>e.type==="radio",_e=e=>e instanceof RegExp;const nt={value:!1,isValid:!1},at={value:!0,isValid:!0};var xt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!w(e[0].attributes.value)?w(e[0].value)||e[0].value===""?at:{value:e[0].value,isValid:!0}:at:nt}return nt};const lt={isValid:!1,value:null};var pt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,lt):lt;function ot(e,r,t="validate"){if(be(e)||Array.isArray(e)&&e.every(be)||Y(e)&&!e)return{type:t,message:be(e)?e:"",ref:r}}var ne=e=>E(e)&&!_e(e)?e:{value:e,message:""},ut=async(e,r,t,i,o)=>{const{ref:n,refs:d,required:v,maxLength:F,minLength:j,min:p,max:x,pattern:U,validate:T,name:O,valueAsNumber:Fe,mount:Q,disabled:X}=e._f,m=y(r,O);if(!Q||X)return{};const K=d?d[0]:n,G=b=>{i&&K.reportValidity&&(K.setCustomValidity(Y(b)?"":b||""),K.reportValidity())},A={},re=qe(n),ve=he(n),ee=re||ve,se=(Fe||ze(n))&&w(n.value)&&w(m)||me(n)&&n.value===""||m===""||Array.isArray(m)&&!m.length,I=gt.bind(null,O,t,A),ge=(b,_,k,L=J.maxLength,z=J.minLength)=>{const B=b?_:k;A[O]={type:b?L:z,message:B,ref:n,...I(b?L:z,B)}};if(o?!Array.isArray(m)||!m.length:v&&(!ee&&(se||R(m))||Y(m)&&!m||ve&&!xt(d).isValid||re&&!pt(d).isValid)){const{value:b,message:_}=be(v)?{value:!!v,message:v}:ne(v);if(b&&(A[O]={type:J.required,message:_,ref:K,...I(J.required,_)},!t))return G(_),A}if(!se&&(!R(p)||!R(x))){let b,_;const k=ne(x),L=ne(p);if(!R(m)&&!isNaN(m)){const z=n.valueAsNumber||m&&+m;R(k.value)||(b=z>k.value),R(L.value)||(_=z<L.value)}else{const z=n.valueAsDate||new Date(m),B=ue=>new Date(new Date().toDateString()+" "+ue),le=n.type=="time",oe=n.type=="week";$(k.value)&&m&&(b=le?B(m)>B(k.value):oe?m>k.value:z>new Date(k.value)),$(L.value)&&m&&(_=le?B(m)<B(L.value):oe?m<L.value:z<new Date(L.value))}if((b||_)&&(ge(!!b,k.message,L.message,J.max,J.min),!t))return G(A[O].message),A}if((F||j)&&!se&&($(m)||o&&Array.isArray(m))){const b=ne(F),_=ne(j),k=!R(b.value)&&m.length>+b.value,L=!R(_.value)&&m.length<+_.value;if((k||L)&&(ge(k,b.message,_.message),!t))return G(A[O].message),A}if(U&&!se&&$(m)){const{value:b,message:_}=ne(U);if(_e(b)&&!m.match(b)&&(A[O]={type:J.pattern,message:_,ref:n,...I(J.pattern,_)},!t))return G(_),A}if(T){if(Z(T)){const b=await T(m,r),_=ot(b,K);if(_&&(A[O]={..._,...I(J.validate,_.message)},!t))return G(_.message),A}else if(E(T)){let b={};for(const _ in T){if(!N(b)&&!t)break;const k=ot(await T[_](m,r),K,_);k&&(b={...k,...I(_,k.message)},G(k.message),t&&(A[O]=b))}if(!N(b)&&(A[O]={ref:K,...b},!t))return A}}return G(!0),A};function Mr(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=w(e)?i++:e[r[i++]];return e}function Nr(e){for(const r in e)if(e.hasOwnProperty(r)&&!w(e[r]))return!1;return!0}function D(e,r){const t=Array.isArray(r)?r:We(r)?[r]:vt(r),i=t.length===1?e:Mr(e,t),o=t.length-1,n=t[o];return i&&delete i[n],o!==0&&(E(i)&&N(i)||Array.isArray(i)&&Nr(i))&&D(e,t.slice(0,-1)),e}var Oe=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}},Se=e=>R(e)||!yt(e);function te(e,r){if(Se(e)||Se(r))return e===r;if(ae(e)&&ae(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const o of t){const n=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const d=r[o];if(ae(n)&&ae(d)||E(n)&&E(d)||Array.isArray(n)&&Array.isArray(d)?!te(n,d):n!==d)return!1}}return!0}var bt=e=>e.type==="select-multiple",Ir=e=>qe(e)||he(e),Re=e=>me(e)&&e.isConnected,mt=e=>{for(const r in e)if(Z(e[r]))return!0;return!1};function Ve(e,r={}){const t=Array.isArray(e);if(E(e)||t)for(const i in e)Array.isArray(e[i])||E(e[i])&&!mt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ve(e[i],r[i])):R(e[i])||(r[i]=!0);return r}function _t(e,r,t){const i=Array.isArray(e);if(E(e)||i)for(const o in e)Array.isArray(e[o])||E(e[o])&&!mt(e[o])?w(r)||Se(t[o])?t[o]=Array.isArray(e[o])?Ve(e[o],[]):{...Ve(e[o])}:_t(e[o],R(r)?{}:r[o],t[o]):t[o]=!te(e[o],r[o]);return t}var pe=(e,r)=>_t(e,r,Ve(r)),St=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>w(e)?e:r?e===""?NaN:e&&+e:t&&$(e)?new Date(e):i?i(e):e;function Ue(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return ze(r)?r.files:qe(r)?pt(e.refs).value:bt(r)?[...r.selectedOptions].map(({value:t})=>t):he(r)?xt(e.refs).value:St(w(r.value)?e.ref.value:r.value,e)}var Br=(e,r,t,i)=>{const o={};for(const n of e){const d=y(r,n);d&&V(o,n,d._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:i}},ce=e=>w(e)?e:_e(e)?e.source:E(e)?_e(e.value)?e.value.source:e.value:e,Pr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ct(e,r,t){const i=y(e,t);if(i||We(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const n=o.join("."),d=y(r,n),v=y(e,n);if(d&&!Array.isArray(d)&&t!==n)return{name:t};if(v&&v.type)return{name:n,error:v};o.pop()}return{name:t}}var Wr=(e,r,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?i.isOnBlur:o.isOnBlur)?!e:(t?i.isOnChange:o.isOnChange)?e:!0,zr=(e,r)=>!ye(y(e,r)).length&&D(e,r);const qr={mode:q.onSubmit,reValidateMode:q.onChange,shouldFocusError:!0};function Hr(e={}){let r={...qr,...e},t={submitCount:0,isDirty:!1,isLoading:Z(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},o=E(r.defaultValues)||E(r.values)?P(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:P(o),d={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},F,j=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={values:Oe(),array:Oe(),state:Oe()},U=st(r.mode),T=st(r.reValidateMode),O=r.criteriaMode===q.all,Fe=s=>a=>{clearTimeout(j),j=setTimeout(s,a)},Q=async s=>{if(p.isValid||s){const a=r.resolver?N((await ee()).errors):await I(i,!0);a!==t.isValid&&x.state.next({isValid:a})}},X=(s,a)=>{(p.isValidating||p.validatingFields)&&((s||Array.from(v.mount)).forEach(l=>{l&&(a?V(t.validatingFields,l,a):D(t.validatingFields,l))}),x.state.next({validatingFields:t.validatingFields,isValidating:!N(t.validatingFields)}))},m=(s,a=[],l,h,f=!0,c=!0)=>{if(h&&l){if(d.action=!0,c&&Array.isArray(y(i,s))){const g=l(y(i,s),h.argA,h.argB);f&&V(i,s,g)}if(c&&Array.isArray(y(t.errors,s))){const g=l(y(t.errors,s),h.argA,h.argB);f&&V(t.errors,s,g),zr(t.errors,s)}if(p.touchedFields&&c&&Array.isArray(y(t.touchedFields,s))){const g=l(y(t.touchedFields,s),h.argA,h.argB);f&&V(t.touchedFields,s,g)}p.dirtyFields&&(t.dirtyFields=pe(o,n)),x.state.next({name:s,isDirty:b(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else V(n,s,a)},K=(s,a)=>{V(t.errors,s,a),x.state.next({errors:t.errors})},G=s=>{t.errors=s,x.state.next({errors:t.errors,isValid:!1})},A=(s,a,l,h)=>{const f=y(i,s);if(f){const c=y(n,s,w(l)?y(o,s):l);w(c)||h&&h.defaultChecked||a?V(n,s,a?c:Ue(f._f)):L(s,c),d.mount&&Q()}},re=(s,a,l,h,f)=>{let c=!1,g=!1;const S={name:s},C=!!(y(i,s)&&y(i,s)._f.disabled);if(!l||h){p.isDirty&&(g=t.isDirty,t.isDirty=S.isDirty=b(),c=g!==S.isDirty);const M=C||te(y(o,s),a);g=!!(!C&&y(t.dirtyFields,s)),M||C?D(t.dirtyFields,s):V(t.dirtyFields,s,!0),S.dirtyFields=t.dirtyFields,c=c||p.dirtyFields&&g!==!M}if(l){const M=y(t.touchedFields,s);M||(V(t.touchedFields,s,l),S.touchedFields=t.touchedFields,c=c||p.touchedFields&&M!==l)}return c&&f&&x.state.next(S),c?S:{}},ve=(s,a,l,h)=>{const f=y(t.errors,s),c=p.isValid&&Y(a)&&t.isValid!==a;if(e.delayError&&l?(F=Fe(()=>K(s,l)),F(e.delayError)):(clearTimeout(j),F=null,l?V(t.errors,s,l):D(t.errors,s)),(l?!te(f,l):f)||!N(h)||c){const g={...h,...c&&Y(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...g},x.state.next(g)}},ee=async s=>{X(s,!0);const a=await r.resolver(n,r.context,Br(s||v.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return X(s),a},se=async s=>{const{errors:a}=await ee(s);if(s)for(const l of s){const h=y(a,l);h?V(t.errors,l,h):D(t.errors,l)}else t.errors=a;return a},I=async(s,a,l={valid:!0})=>{for(const h in s){const f=s[h];if(f){const{_f:c,...g}=f;if(c){const S=v.array.has(c.name);X([h],!0);const C=await ut(f,n,O,r.shouldUseNativeValidation&&!a,S);if(X([h]),C[c.name]&&(l.valid=!1,a))break;!a&&(y(C,c.name)?S?Ur(t.errors,C,c.name):V(t.errors,c.name,C[c.name]):D(t.errors,c.name))}g&&await I(g,a,l)}}return l.valid},ge=()=>{for(const s of v.unMount){const a=y(i,s);a&&(a._f.refs?a._f.refs.every(l=>!Re(l)):!Re(a._f.ref))&&we(s)}v.unMount=new Set},b=(s,a)=>(s&&a&&V(n,s,a),!te(He(),o)),_=(s,a,l)=>Rr(s,v,{...d.mount?n:w(a)?o:$(s)?{[s]:a}:a},l,a),k=s=>ye(y(d.mount?n:o,s,e.shouldUnregister?y(o,s,[]):[])),L=(s,a,l={})=>{const h=y(i,s);let f=a;if(h){const c=h._f;c&&(!c.disabled&&V(n,s,St(a,c)),f=me(c.ref)&&R(a)?"":a,bt(c.ref)?[...c.ref.options].forEach(g=>g.selected=f.includes(g.value)):c.refs?he(c.ref)?c.refs.length>1?c.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(f)?!!f.find(S=>S===g.value):f===g.value)):c.refs[0]&&(c.refs[0].checked=!!f):c.refs.forEach(g=>g.checked=g.value===f):ze(c.ref)?c.ref.value="":(c.ref.value=f,c.ref.type||x.values.next({name:s,values:{...n}})))}(l.shouldDirty||l.shouldTouch)&&re(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ue(s)},z=(s,a,l)=>{for(const h in a){const f=a[h],c=`${s}.${h}`,g=y(i,c);(v.array.has(s)||!Se(f)||g&&!g._f)&&!ae(f)?z(c,f,l):L(c,f,l)}},B=(s,a,l={})=>{const h=y(i,s),f=v.array.has(s),c=P(a);V(n,s,c),f?(x.array.next({name:s,values:{...n}}),(p.isDirty||p.dirtyFields)&&l.shouldDirty&&x.state.next({name:s,dirtyFields:pe(o,n),isDirty:b(s,c)})):h&&!h._f&&!R(c)?z(s,c,l):L(s,c,l),it(s,v)&&x.state.next({...t}),x.values.next({name:d.mount?s:void 0,values:{...n}})},le=async s=>{d.mount=!0;const a=s.target;let l=a.name,h=!0;const f=y(i,l),c=()=>a.type?Ue(f._f):kr(s),g=S=>{h=Number.isNaN(S)||S===y(n,l,S)};if(f){let S,C;const M=c(),ie=s.type===rt.BLUR||s.type===rt.FOCUS_OUT,Dt=!Pr(f._f)&&!r.resolver&&!y(t.errors,l)&&!f._f.deps||Wr(ie,y(t.touchedFields,l),t.isSubmitted,T,U),ke=it(l,v,ie);V(n,l,M),ie?(f._f.onBlur&&f._f.onBlur(s),F&&F(0)):f._f.onChange&&f._f.onChange(s);const De=re(l,M,ie,!1),Et=!N(De)||ke;if(!ie&&x.values.next({name:l,type:s.type,values:{...n}}),Dt)return p.isValid&&Q(),Et&&x.state.next({name:l,...ke?{}:De});if(!ie&&ke&&x.state.next({...t}),r.resolver){const{errors:Ze}=await ee([l]);if(g(M),h){const Ct=ct(t.errors,i,l),et=ct(Ze,i,Ct.name||l);S=et.error,l=et.name,C=N(Ze)}}else X([l],!0),S=(await ut(f,n,O,r.shouldUseNativeValidation))[l],X([l]),g(M),h&&(S?C=!1:p.isValid&&(C=await I(i,!0)));h&&(f._f.deps&&ue(f._f.deps),ve(l,C,S,De))}},oe=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},ue=async(s,a={})=>{let l,h;const f=Te(s);if(r.resolver){const c=await se(w(s)?s:f);l=N(c),h=s?!f.some(g=>y(c,g)):l}else s?(h=(await Promise.all(f.map(async c=>{const g=y(i,c);return await I(g&&g._f?{[c]:g}:g)}))).every(Boolean),!(!h&&!t.isValid)&&Q()):h=l=await I(i);return x.state.next({...!$(s)||p.isValid&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!h&&de(i,oe,s?f:v.mount),h},He=s=>{const a={...o,...d.mount?n:{}};return w(s)?a:$(s)?y(a,s):s.map(l=>y(a,l))},$e=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),isTouched:!!y((a||t).touchedFields,s),isValidating:!!y((a||t).validatingFields,s),error:y((a||t).errors,s)}),Ft=s=>{s&&Te(s).forEach(a=>D(t.errors,a)),x.state.next({errors:s?t.errors:{}})},Ke=(s,a,l)=>{const h=(y(i,s,{_f:{}})._f||{}).ref;V(t.errors,s,{...a,ref:h}),x.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&h&&h.focus&&h.focus()},wt=(s,a)=>Z(s)?x.values.subscribe({next:l=>s(_(void 0,a),l)}):_(s,a,!0),we=(s,a={})=>{for(const l of s?Te(s):v.mount)v.mount.delete(l),v.array.delete(l),a.keepValue||(D(i,l),D(n,l)),!a.keepError&&D(t.errors,l),!a.keepDirty&&D(t.dirtyFields,l),!a.keepTouched&&D(t.touchedFields,l),!a.keepIsValidating&&D(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&D(o,l);x.values.next({values:{...n}}),x.state.next({...t,...a.keepDirty?{isDirty:b()}:{}}),!a.keepIsValid&&Q()},Ge=({disabled:s,name:a,field:l,fields:h,value:f})=>{if(Y(s)){const c=s?void 0:w(f)?Ue(l?l._f:y(h,a)._f):f;V(n,a,c),re(a,c,!1,!1,!0)}},Ae=(s,a={})=>{let l=y(i,s);const h=Y(a.disabled);return V(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),v.mount.add(s),l?Ge({field:l,disabled:a.disabled,name:s,value:a.value}):A(s,!0,a.value),{...h?{disabled:a.disabled}:{},...r.progressive?{required:!!a.required,min:ce(a.min),max:ce(a.max),minLength:ce(a.minLength),maxLength:ce(a.maxLength),pattern:ce(a.pattern)}:{},name:s,onChange:le,onBlur:le,ref:f=>{if(f){Ae(s,a),l=y(i,s);const c=w(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=Ir(c),S=l._f.refs||[];if(g?S.find(C=>C===c):c===l._f.ref)return;V(i,s,{_f:{...l._f,...g?{refs:[...S.filter(Re),c,...Array.isArray(y(o,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),A(s,!1,void 0,c)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(Er(v.array,s)&&d.action)&&v.unMount.add(s)}}},Je=()=>r.shouldFocusError&&de(i,oe,v.mount),At=s=>{Y(s)&&(x.state.next({disabled:s}),de(i,(a,l)=>{let h=s;const f=y(i,l);f&&Y(f._f.disabled)&&(h||(h=f._f.disabled)),a.disabled=h},0,!1))},Ye=(s,a)=>async l=>{let h;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=P(n);if(x.state.next({isSubmitting:!0}),r.resolver){const{errors:c,values:g}=await ee();t.errors=c,f=g}else await I(i);if(D(t.errors,"root"),N(t.errors)){x.state.next({errors:{}});try{await s(f,l)}catch(c){h=c}}else a&&await a({...t.errors},l),Je(),setTimeout(Je);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:N(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},kt=(s,a={})=>{y(i,s)&&(w(a.defaultValue)?B(s,P(y(o,s))):(B(s,a.defaultValue),V(o,s,P(a.defaultValue))),a.keepTouched||D(t.touchedFields,s),a.keepDirty||(D(t.dirtyFields,s),t.isDirty=a.defaultValue?b(s,P(y(o,s))):b()),a.keepError||(D(t.errors,s),p.isValid&&Q()),x.state.next({...t}))},Qe=(s,a={})=>{const l=s?P(s):o,h=P(l),f=N(s),c=f?o:h;if(a.keepDefaultValues||(o=l),!a.keepValues){if(a.keepDirtyValues)for(const g of v.mount)y(t.dirtyFields,g)?V(c,g,y(n,g)):B(g,y(c,g));else{if(Pe&&w(s))for(const g of v.mount){const S=y(i,g);if(S&&S._f){const C=Array.isArray(S._f.refs)?S._f.refs[0]:S._f.ref;if(me(C)){const M=C.closest("form");if(M){M.reset();break}}}}i={}}n=e.shouldUnregister?a.keepDefaultValues?P(o):{}:P(c),x.array.next({values:{...c}}),x.values.next({values:{...c}})}v={mount:a.keepDirtyValues?v.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!p.isValid||!!a.keepIsValid||!!a.keepDirtyValues,d.watch=!!e.shouldUnregister,x.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!te(s,o)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?[]:a.keepDirtyValues?a.keepDefaultValues&&n?pe(o,n):t.dirtyFields:a.keepDefaultValues&&s?pe(o,s):{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Xe=(s,a)=>Qe(Z(s)?s(n):s,a);return{control:{register:Ae,unregister:we,getFieldState:$e,handleSubmit:Ye,setError:Ke,_executeSchema:ee,_getWatch:_,_getDirty:b,_updateValid:Q,_removeUnmounted:ge,_updateFieldArray:m,_updateDisabledField:Ge,_getFieldArray:k,_reset:Qe,_resetDefaultValues:()=>Z(r.defaultValues)&&r.defaultValues().then(s=>{Xe(s,r.resetOptions),x.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:At,_subjects:x,_proxyFormState:p,_setErrors:G,get _fields(){return i},get _formValues(){return n},get _state(){return d},set _state(s){d=s},get _defaultValues(){return o},get _names(){return v},set _names(s){v=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:ue,register:Ae,handleSubmit:Ye,watch:wt,setValue:B,getValues:He,reset:Xe,resetField:kt,clearErrors:Ft,unregister:we,setError:Ke,setFocus:(s,a={})=>{const l=y(i,s),h=l&&l._f;if(h){const f=h.refs?h.refs[0]:h.ref;f.focus&&(f.focus(),a.shouldSelect&&f.select())}},getFieldState:$e}}function $r(e={}){const r=W.useRef(),t=W.useRef(),[i,o]=W.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Hr(e),formState:i});const n=r.current.control;return n._options=e,Or({subject:n._subjects.state,next:d=>{Tr(d,n._proxyFormState,n._updateFormState,!0)&&o({...n._formState})}}),W.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),W.useEffect(()=>{if(n._proxyFormState.isDirty){const d=n._getDirty();d!==i.isDirty&&n._subjects.state.next({isDirty:d})}},[n,i.isDirty]),W.useEffect(()=>{e.values&&!te(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,o(d=>({...d}))):n._resetDefaultValues()},[e.values,n]),W.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),W.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),W.useEffect(()=>{e.shouldUnregister&&n._subjects.values.next({values:n._getWatch()})},[e.shouldUnregister,n]),r.current.formState=Lr(i,n),r.current}const Kr=e=>new Promise(r=>{Ht.imageFileResizer(e,150,150,"JPEG",100,0,t=>{r(t)},"file")}),Gr=({setAvatar:e})=>{const{avatarURL:r}=je(Ne),[t,i]=H.useState(r),o=H.useRef(null),n=()=>{o.current.click()},d=async v=>{const F=new FileReader,j=v.target.files[0];if(e(j),!j)return;const p=await Kr(j);F.onload=x=>{const U=x.target.result;i(U)},F.readAsDataURL(p)};return u.jsxs(Pt,{children:[u.jsxs(Wt,{children:[t&&u.jsx("img",{src:t,alt:"avatar"}),!t&&u.jsx(fe,{id:"user",size:48})]}),u.jsxs(zt,{children:[u.jsx(ht,{size:"editProfile",type:"button",onClick:n}),u.jsx(qt,{onChange:d,ref:o,type:"file",accept:"image/jpeg,image/png"})]})]})},Jr=({register:e,current:r})=>{const[t,i]=H.useState(!1),o=()=>{i(!t)};return u.jsxs($t,{children:[u.jsx(Ee,{children:u.jsx(Ce,{...e("name"),placeholder:r.name})}),u.jsx(Ee,{children:u.jsx(Ce,{...e("email"),placeholder:r.email})}),u.jsxs(Ee,{children:[u.jsx(Ce,{...e("password"),placeholder:"password",type:t?"text":"password"}),u.jsx(Kt,{onClick:o,type:"button",className:t?"active":"",children:u.jsx(fe,{id:"eye",size:18})})]})]})};var dt=function(e,r,t){if(e&&"reportValidity"in e){var i=y(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Vt=function(e,r){var t=function(o){var n=r.fields[o];n&&n.ref&&"reportValidity"in n.ref?dt(n.ref,o,e):n.refs&&n.refs.forEach(function(d){return dt(d,o,e)})};for(var i in r.fields)t(i)},Yr=function(e,r){r.shouldUseNativeValidation&&Vt(e,r);var t={};for(var i in e){var o=y(r.fields,i),n=Object.assign(e[i]||{},{ref:o&&o.ref});if(Qr(r.names||Object.keys(e),i)){var d=Object.assign({},y(t,i));V(d,"root",n),V(t,i,d)}else V(t,i,n)}return t},Qr=function(e,r){return e.some(function(t){return t.startsWith(r+".")})};function Xr(e,r,t){return r===void 0&&(r={}),t===void 0&&(t={}),function(i,o,n){try{return Promise.resolve(function(d,v){try{var F=(r.context,Promise.resolve(e[t.mode==="sync"?"validateSync":"validate"](i,Object.assign({abortEarly:!1},r,{context:o}))).then(function(j){return n.shouldUseNativeValidation&&Vt({},n),{values:t.raw?i:j,errors:{}}}))}catch(j){return v(j)}return F&&F.then?F.then(void 0,v):F}(0,function(d){if(!d.inner)throw d;return{values:{},errors:Yr((v=d,F=!n.shouldUseNativeValidation&&n.criteriaMode==="all",(v.inner||[]).reduce(function(j,p){if(j[p.path]||(j[p.path]={message:p.message,type:p.type}),F){var x=j[p.path].types,U=x&&x[p.type];j[p.path]=gt(p.path,F,j,p.type,U?[].concat(U,p.message):p.message)}return j},{})),n)};var v,F}))}catch(d){return Promise.reject(d)}}}const Zr=({handleCloseModal:e})=>{const[r,t]=H.useState(null),i=je(Ne),o=Me(),{register:n,handleSubmit:d,formState:{errors:v}}=$r({mode:"onChange",resolver:Xr(Qt)}),F=j=>{const{name:p,email:x,password:U}=j;if(console.log("before"),!p&&!x&&!U&&!r)return;const T=new FormData;i.name!==p&&p&&T.append("name",p),i.email!==x&&x&&T.append("email",x),U&&T.append("password",U),r&&T.append("avatar",r);for(const O of T.keys())console.log(O);o(Yt(T)).unwrap().then(()=>{console.log("hello"),e()}),console.log("after")};return u.jsxs(Gt,{onSubmit:d(F),children:[u.jsx(Jt,{children:"Edit profile"}),u.jsx(Gr,{setAvatar:t}),u.jsx(Jr,{register:n,errors:v,current:i}),u.jsx(ht,{title:"Send",icon:!1})]})},es=()=>{const{name:e,avatarURL:r}=je(Ne),[t,i]=Be(),o=H.useRef(),n=v=>{v.target.closest("button")===o.current&&i()},d=()=>{i(!1)};return u.jsxs(Xt,{onClick:n,ref:o,children:[u.jsx(Zt,{children:e}),u.jsxs(er,{children:[u.jsx("img",{src:r,alt:"avatar"}),!1]}),t&&u.jsx(Ie,{toggleModal:d,children:u.jsx(Zr,{handleCloseModal:d})})]})},ts=()=>u.jsxs(tr,{children:[u.jsx(rr,{children:u.jsx(fe,{id:"menu"})}),u.jsx(Ar,{}),u.jsx(es,{})]}),rs=()=>{const[e,r]=Be(),t=Me(),i=()=>{t(gr())};return u.jsxs(u.Fragment,{children:[u.jsxs(sr,{children:[u.jsxs(ir,{to:"/",children:[u.jsx(xe,{id:"logo",size:32,className:"logo"}),u.jsx(nr,{children:"Task Pro"})]}),u.jsx(ar,{children:"My boards"}),u.jsxs(lr,{children:[u.jsx(or,{children:"Create a new board"}),u.jsx(ur,{type:"button",onClick:r,children:u.jsx(xe,{id:"plus",size:20,className:"plus"})})]}),u.jsx(cr,{children:u.jsx(ss,{})}),u.jsxs(dr,{children:[u.jsxs(fr,{children:["If you need help with ",u.jsx("span",{children:"TaskPro"}),", check out our support resources or reach out to our customer support team."]}),u.jsxs(hr,{children:[u.jsx(xe,{id:"help-circle",size:20,className:"help-circle"}),"Need help?"]})]}),u.jsx(yr,{children:u.jsxs(vr,{type:"button",onClick:i,children:[u.jsx(xe,{id:"login",size:32,className:"login"}),"Log out"]})})]}),e&&u.jsx(Ie,{toggleModal:r,children:u.jsx(jt,{})})]})},jt=()=>u.jsx(xr,{children:"BoardForm"}),ss=()=>{const e=je(pr);return u.jsx(br,{children:e.map(r=>u.jsx(is,{title:r.title,id:r._id},r._id))})},is=({id:e,title:r})=>{const[t,i]=Be();return u.jsxs(u.Fragment,{children:[u.jsxs(mr,{children:[u.jsxs(_r,{children:[u.jsx(Le,{id:"project",size:20,className:"project"}),u.jsx(Sr,{children:r})]}),u.jsxs(Vr,{children:[u.jsx(tt,{type:"button",onClick:i,"aria-label":"edit",children:u.jsx(Le,{id:"pencil",size:16,className:"pencil"})}),u.jsx(tt,{type:"button","aria-label":"delete",children:u.jsx(Le,{id:"trash",size:16,className:"trash"})})]})]}),t&&u.jsx(Ie,{toggleModal:i,children:u.jsx(jt,{boardId:e})})]})},ns=ft.div`
  display: flex;
  flex-direction: row;
`,as=ft.div`
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
`,hs=()=>u.jsxs(ns,{children:[u.jsx("div",{children:u.jsx(rs,{})}),u.jsxs(as,{children:[u.jsx(ts,{}),u.jsx(H.Suspense,{fallback:u.jsx(jr,{}),children:u.jsx(Fr,{})})]})]});export{hs as default};
